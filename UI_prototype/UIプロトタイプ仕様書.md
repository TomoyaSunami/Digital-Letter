# デジタルレター UIプロトタイプ仕様書（静的 Next.js 版）

## 0. プロジェクトの目的

* **目的**：

  * デジタルレターの主要画面（手紙箱 / 手紙詳細 / 作成 / 送信設定 / 送信完了）の
    **レイアウト・導線・雰囲気をブラウザ上で確認すること**
* **割り切り**：

  * サーバー処理・DB・認証は一切やらない
  * すべて **ローカルのダミーデータ** で表示
  * GitHub Pages にデプロイできるよう **静的出力（Static Export）** 前提

---

## 1. 技術スタック

* フレームワーク：**Next.js（App Router）**
* 言語：TypeScript
* スタイリング：Tailwind CSS（＋必要なら簡易コンポーネント）
* ビルド：`output: 'export'` による静的サイト出力
* デプロイ先：GitHub Pages

---

## 2. ルーティング構成（App Router）

UI確認に必要な最低限のページ：

```txt
app
├─ layout.tsx             // 共通レイアウト（ヘッダーなど）
├─ page.tsx               // ランディング / ホームリンク
├─ letters
│   ├─ page.tsx           // 手紙箱（受信/送信一覧）
│   └─ [id]
│       └─ page.tsx       // 手紙詳細
├─ compose
│   └─ page.tsx           // 新規手紙作成
├─ send
│   └─ page.tsx           // 送信設定
└─ sent
    └─ page.tsx           // 送信完了
```

* すべて **静的ページ** として実装
* `/letters/[id]` は `generateStaticParams` を使って
  モックレター数件分だけ静的生成する

---

## 3. 共通レイアウト仕様

### 3.1 `app/layout.tsx`

**役割**

* 全ページ共通の

  * ヘッダー（簡易ナビ）
  * ページコンテナ
    を提供する。

**ヘッダー要素**

* 左：サービス名ロゴテキスト

  * `DIGITAL`（欧文大文字・セリフ体）＋ `Letter`（少し小さめ・ブラウン）
* 右：ナビリンク

  * 「手紙箱」 → `/letters`
  * 「新しい手紙」 → `/compose`

**レイアウト（世界観）**

* ページ全体：

  * 背景は**紙の上の机**をイメージした、
    クリーム系のグラデーション＋ごく薄いテクスチャ。
  * 例：`radial-gradient(..., #ffffff, #f3ede0, #e9dfcf)` をベースに `#f7f4ec`。
* コンテンツ本体：

  * 中央に縦長の**レターカード（app-frame）**を配置。
  * `max-width: 480px` 程度、`border-radius: 24px`、やわらかいシャドウ。
  * スマホ画面を模した 1 カラム構成で、
    「1枚のデジタルな手紙カード」を操作している印象を与える。
* モバイル：

  * 横幅いっぱいに広げ、`border-radius` とシャドウを抑えて
    **フルスクリーンのレター画面**として扱う。

---

### 3.2 カラーデザイン指針

**基調となるCSS変数（参考）**

```css
:root {
  --paper-cream:  #f7f4ec;
  --paper-ivory:  #eee7da;
  --ink-blue:     #3e4a56;
  --muted-rose:   #a86b6b;
  --antique-brown:#7b6148;
  --gold-accent:  #c9a86e;
}
```

* **コンセプト**：

  * **「紙のぬくもりとインクの静かな色味」**をベースにした配色とする。
  * ビビッドな原色や強いコントラストは避け、
    **くすんだ中間色＋やわらかいクリーム系**を中心に使う。
  * 目指すのは「SaaSのUI」ではなく、**アンティーク文具のようなデジタルレター**。

* **ベースカラー**

  * ページ背景：

    * `--paper-cream`（#f7f4ec）をベースに、白〜ベージュの
      **やわらかなグラデーション**を重ねる。
  * コンテンツカード背景（app-frame 内部）：

    * `#fdfaf3`〜`#f1eadf` の淡いグラデーションで、
      **羊皮紙のような紙の質感**を表現する。

* **テキストカラー**

  * メインテキスト：

    * `--ink-blue`（#3e4a56）
      → 真っ黒ではなく、**万年筆のインクのような深いブルーグレー**。
  * サブテキスト：

    * `--ink-blue` を薄くしたもの、または透明度を下げて使用し、
      情報の優先度に応じて濃淡をつける。

* **アクセントカラー**

  * メインアクセント（ボタン・主要CTA）：

    * `--muted-rose`（#a86b6b）
      → くすんだローズ系。**「封筒の赤」や「インクの赤み」**をイメージ。
  * サブアクセント（ラベルや小さな強調）：

    * `--antique-brown`（#7b6148）
      → 封筒の縁やスタンプ周りの**アンティークブラウン**。
    * `--gold-accent`（#c9a86e）
      → 罫線や仕切りにほんの少しだけ使う**真鍮・ゴールドのニュアンス**。

* **ボーダー／仕切り**

  * カードや区切り線：

    * `rgba(139, 120, 92, 0.25)` や `#ddd0c0` 程度の
      **ごく薄いベージュのライン**を使い、
      強い線や真っ黒の罫線は避ける。
  * シャドウ：

    * ふんわりとした中程度のシャドウのみ。
      浮かび上がるが“ギラつかない”強さにとどめる。

* **全体トーン**

  * 「白＋グレー＋青」のSaaS的なフラットさではなく、
    **紙 + インク + 文具**の三要素を感じさせる柔らかいトーン。
  * 「画面」ではなく **「1枚の手紙」**を見ている印象を優先する。

---

### 3.3 画面遷移アニメーション指針

* **目的**：手紙を扱う体験らしい“間（ま）”と情緒を感じさせる。

* **動作**：

  * すべてのページ遷移は **フェードアウト → フェードイン** の順に切り替える。
  * 1フェーズあたり 0.6〜1.2 秒。実装では **0.8 秒** を採用し、急激なモーションは禁止。
  * 透明度とわずかな縦方向の移動のみで、軽くしっとりした印象を保つ。
  * `TransitionProvider` + `TransitionLink` で遷移開始を一拍遅らせ、
    **遷移前画面のフェードアウト → ルーティング → 新画面のフェードイン** を保証する。

* **適用範囲**：App Router 配下の全ページを共通のトランジションコンポーネントでラップし、遷移ごとに自動適用する。

---

### 3.4 デザインコンセプト（トーン＆マナー）

* **コンセプト文**

  > **「紙とインクをモチーフにした、静かで情緒のあるレター体験UI」**
  > やわらかな紙色のグラデーションと、深いインクブルー／アンティークブラウンを基調とし、
  > 激しい動きや強いコントラストを避けた、**丁寧で落ち着いた印象のデザイン**とする。
  > 封筒・スタンプ・手書き風テキストなど、手紙モチーフの要素はあくまで控えめに配置し、
  > 全体としては**ミニマルで上品な「デジタル文具」**の雰囲気を目指す。

* **タイポグラフィ**

  * ロゴ・見出し：

    * `Playfair Display` などの欧文セリフ体を使い、
      DIGITAL / Letter のコントラストで**静かな高級感**を出す。
  * 本文：

    * `Noto Sans JP` を採用し、日本語の可読性と落ち着いた印象を両立する。

* **テキストトーン**

  * 命令形ではなく、**やさしい提案・誘いかけ**の口調。
  * キーワード：
    「ゆっくり」「大切」「想い」「一通目」「届ける」など
    スローメッセージの価値を伝える言葉を中心に使う。

---

## 4. 各ページ仕様（UI観点のみ）

### 4.1 `/`（ランディング簡易版）

**目的**

* プロトタイプの入口として、
  「コンセプトテキスト＋手紙箱へのリンク」を置く。

**要素**

* タイトル：

  * 「Digital Letter UI Prototype」
* 説明文：

  * 「デジタルで“手紙の良さ”を再現するサービスのUI確認用プロトタイプです。」
* ボタン：

  * 「手紙箱を開く」 → `/letters`

---

### 4.2 `/letters`（手紙箱一覧）

**目的**

* UI上で、受信/送信の手紙一覧、ステータス表示、遷移の雰囲気を確認する。

**レイアウト**

* ページタイトル：「手紙箱」
* タブ風ボタン：

  * 「受信」 / 「送信」
  * UI上は切り替えだけだが、データは同一ページ内で切り替え

**表示するカード項目（1通ごと）**

* 封筒アイコン（開封/未開封の見た目切替）
* 送り主（受信箱）または宛先（送信箱）
* タイトル（件名 or 冒頭）
* ステータスラベル：

  * 例：

    * `DELIVERED` → 「配達済み」
    * `SCHEDULED` → 「配達待ち（◯◯に届く予定）」
* 日付：

  * 受信箱：配達日
  * 送信箱：配達予定日 or 配達済み日

**操作**

* カードクリック → `/letters/[id]` に遷移
* ページ右上：「新しい手紙を書く」 → `/compose`

---

### 4.3 `/letters/[id]`（手紙詳細）

**目的**

* 封筒 → 開封 → 手紙本文表示の流れをUIで確認する。

**ステップ（見た目だけ）**

1. ページ表示時：

   * 上部：差出人名・宛先名・配達日時
   * 中央：封筒イメージ（クリック可能なカード）
   * 「封筒を開ける」ボタン
2. 開封後（同ページ内で状態切り替え）：

   * 背景：選択された便箋テーマ風のデザイン
   * 本文テキスト（モック）
   * 装飾テキスト：

     * 手書き風フォントぽいクラス（Tailwindでフォント指定 or 擬似）
   * 下部ボタン：

     * 「返信を書く」 → `/compose`
     * 「手紙箱に戻る」 → `/letters`

※ 開封前/後の状態切り替えは、
`useState` で `isOpened` フラグを持ち、単純にUI切替するだけ（データ保存なし）。

---

### 4.4 `/compose`（新規手紙作成）

**目的**

* 手紙作成UI（タイトル・本文・便箋選択ボタン）の形を確認する。

**レイアウト**

* ページタイトル：「新しい手紙を書く」
* フォーム項目：

  * 宛先（テキスト入力 or セレクトっぽいダミー）
  * タイトル（任意）
  * 本文テキストエリア（複数行）
* 右側 or 下部に「便箋テーマ選択」：

  * シンプル / 夜空 / 和風 など 3〜4件のボタン
  * 選択中テーマはハイライト表示
  * 本文エリアの背景色 or ボーダー色をテーマに応じて変える

**操作（あくまでUIだけ）**

* 「次へ（送信設定へ）」 → `/send` に遷移

  * データの受け渡しは実際にはしない（MVP UIでは画面遷移だけ）
* 「手紙箱に戻る」 → `/letters`

---

### 4.5 `/send`（送信設定）

**目的**

* 「ゆっくり届く」「タイムカプセル」などのUIを確認する。

**レイアウト**

* ページタイトル：「配達時間を選ぶ」

* 配達方法ラジオボタン（UIだけの切替）：

  1. 「すぐに届ける」
  2. 「ゆっくり届ける」

     * セレクトボックス：`3分 / 1時間 / 12時間 / 1日 / 1週間`
  3. 「タイムカプセル」

     * 日付入力（`<input type="date" />`）
     * 時刻入力（`<input type="time" />`）

* 下部プレビュー文：

  * ラジオ＋入力内容に応じて表示するテキスト（UIのみ）
  * 例：「この手紙は 2026-01-01 00:00 に届く予定です。」

**操作**

* 「送信する」ボタン → `/sent`
  （実際には何も送らない、遷移だけ）

---

### 4.6 `/sent`（送信完了）

**目的**

* 送信完了画面の見た目とメッセージを確認。

**内容**

* アイコン（紙飛行機 or 封筒のイラスト風アイコン）
* メインメッセージ：

  * 「手紙を送りました。」
  * 「◯◯さんには △△ に届く予定です。」（ダミー固定文でもよい）
* ボタン：

  * 「手紙箱に戻る」 → `/letters`
  * 「もう一通書く」 → `/compose`

---

## 5. モックデータ仕様

静的UIなので、データは **ファイル内にハードコード**します。

### 5.1 モックデータ定義ファイル

* 場所：`app/_mock/letters.ts`（例）

```ts
// 例：型定義（シンプルでOK）
export type LetterStatus = 'DELIVERED' | 'SCHEDULED';

export type Letter = {
  id: string;
  from: string;
  to: string;
  title: string;
  body: string;
  status: LetterStatus;
  scheduledAt?: string;
  deliveredAt?: string;
  theme: 'simple' | 'night' | 'japanese';
};

// 例：モックレター
export const mockLetters: Letter[] = [
  {
    id: '1',
    from: 'ゆかり',
    to: 'あなた',
    title: 'この前のお出かけ、楽しかったね',
    body: 'この前の週末、一緒に行ったカフェのこと…（省略）',
    status: 'DELIVERED',
    deliveredAt: '2025-11-10 20:00',
    theme: 'simple',
  },
  {
    id: '2',
    from: '未来のあなた',
    to: 'あなた',
    title: '1年後の自分へ',
    body: '1年後のあなたは、どこで何をしていますか…（省略）',
    status: 'SCHEDULED',
    scheduledAt: '2026-11-10 08:00',
    theme: 'night',
  },
];
```

### 5.2 利用方法

* `/letters`：

  * `mockLetters` をそのまま一覧表示
* `/letters/[id]`：

  * `generateStaticParams` で `id` を列挙
  * ページ側で `mockLetters.find` して詳細取得

---

## 6. Next.js 設定（静的出力）

### 6.1 `next.config.mjs`

```js
/** @type {import('next').NextConfig} */
const nextConfig = {
  output: 'export',        // 静的サイトとして書き出す
  images: {
    unoptimized: true,     // next/image を素の <img> 相当にする
  },
  // GitHub Pages でサブディレクトリ配信する場合はここに basePath/assetPrefix を設定
  // 例:
  // basePath: '/digital-letter-ui',
  // assetPrefix: '/digital-letter-ui/',
};

export default nextConfig;
```

### 6.2 ビルド & Export

* 開発中：`npm run dev`
* UI確認用ビルド：

  * `npm run build`
  * `npm run export` → `out/` ディレクトリ生成
* `out/` を GitHub Pages 用ブランチ or `docs/` に配置して公開

---

## 7. このプロトタイプで「確認できること」

* 手紙箱 → 手紙詳細 → 返信（作成） → 配達設定 → 送信完了
  という**一連の体験の流れ**
* 各画面の

  * レイアウトバランス
  * コンポーネント構成
  * 文言・ラベリング
* テーマ（便箋デザイン）の切り替えイメージ

